# micromamba env create -f env.yml -n mswegnn
name: mswegnn
channels:
  - pyg          # Channel for pyg packages
  - conda-forge  # Primary channel for everything else
  - nodefaults   # Explicitly disable the 'defaults' channel
channel_priority: strict

dependencies:
  # --- Core ---
  - python=3.10
  - pip

  # --- Platform-Specific OpenMP ---
  # Your comments are correct. Conda-forge often handles this better
  # automatically, but selectors are fine if needed.
  # - llvm-openmp # [osx]
  # - conda-forge::intel-openmp # [linux]

  # --- Explicitly Pinned ML Stack ---
  # This explicit pinning is great.
  - conda-forge::pytorch>=2.0
  - pyg::pyg
  - pyg::pytorch-scatter
  - pyg::pytorch-sparse
  - conda-forge::lightning>=2.0
  
  # --- Science Stack (will all come from conda-forge) ---
  - numpy
  - scipy
  - pandas
  - scikit-learn
  - numba
  - netcdf4
  - xarray
  - fiona
  - shapely

  - pip:
    # everything without a strong c dependency use pip
    - UGrid==0.13.0
    - -e .
    - matplotlib
    - ipykernel
    - tqdm
    - seaborn
    - pytest
    - triangle
    - wandb
    - sithom