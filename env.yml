# micromamba env create -f env.yml -y -n mswegnn-new &> env_solve.log
name: mswegnn2
channels:
  - pytorch
  - pyg
  - conda-forge
  - nodefaults
dependencies:
  # --- Core ---
  - conda-forge::python=3.10
  - conda-forge::pip

  # --- ML Stack (CPU-Forced) ---
  - pytorch::pytorch
  - pytorch::cpuonly
  
  # --- PyG (CPU-Forced) ---
  # We use the conda "build string" to select CPU-only builds
  - pyg::pyg=*=*_cpu
  - pyg::pytorch-scatter=*=*_cpu
  - pyg::pytorch-sparse=*=*_cpu

  # --- Lightning & Science Stack ---
  # These are all correct
  - conda-forge::lightning
  - conda-forge::numpy
  - conda-forge::scipy
  - conda-forge::pandas
  - conda-forge::scikit-learn
  - conda-forge::numba
  - conda-forge::netcdf4
  - conda-forge::xarray
  - conda-forge::fiona
  - conda-forge::shapely

  # --- Pip ---
  - pip:
    - UGrid==0.13.0
    - -e .
    - matplotlib
    - ipykernel
    - tqdm
    - seaborn
    - pytest
    - triangle
    - wandb
    - sithom